!function(a,b){"use strict";function c(){this.models={},this.collections={},this.views={}}a.wp=a.wp||{},wp.api=wp.api||new c}(window),function(a,b){"use strict";if(a.wp=a.wp||{},wp.api=wp.api||{},wp.api.utils=wp.api.utils||{},!Date.prototype.toISOString){var c=function(a){var b=String(a);return 1===b.length&&(b="0"+b),b};Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}wp.api.utils.parseISO8601=function(a){var c,d,e,f,g=0,h=[1,4,5,6,7,10,11];if(d=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(a)){for(e=0;f=h[e];++e)d[f]=+d[f]||0;d[2]=(+d[2]||1)-1,d[3]=+d[3]||1,"Z"!==d[8]&&d[9]!==b&&(g=60*d[10]+d[11],"+"===d[9]&&(g=0-g)),c=Date.UTC(d[1],d[2],d[3],d[4],d[5]+g,d[6],d[7])}else c=Date.parse?Date.parse(a):NaN;return c}}(window),function(a,b,c,d,e){"use strict";var f=["date","modified","date_gmt","modified_gmt"],g={toJSON:function(){var a=_.clone(this.attributes);return _.each(f,function(b){b in a&&(a[b]=a[b].toISOString())}),a},parse:function(b){return _.each(f,function(c){if(c in b){var d=a.api.utils.parseISO8601(b[c]);b[c]=new Date(d)}}),"undefined"!=typeof b.author&&(b.author=new a.api.models.User(b.author)),b}},h={parent:function(){var a,b=this.get("parent");if(0===b)return null;var c=this;return"undefined"!=typeof this.parentModel&&(c=new this.parentModel),c.collection?c.collection.get(b):(a=new c.constructor({id:b}),a.fetch(),a)}},i=c.Model.extend({sync:function(a,d,e){if(e=e||{},"undefined"!=typeof b.nonce){var f=e.beforeSend;e.beforeSend=function(a){return a.setRequestHeader("X-WP-Nonce",b.nonce),f?f.apply(this,arguments):void 0}}return c.sync(a,d,e)}});a.api.models.User=i.extend({idAttribute:"id",urlRoot:b.root+"wp/v2/users",defaults:{id:null,avatar_url:{},capabilities:{},description:"",email:"",extra_capabilities:{},first_name:"",last_name:"",link:"",name:"",nickname:"",registered_date:new Date,roles:[],slug:"",url:"",username:"",_links:{}}}),a.api.models.Taxonomy=i.extend({idAttribute:"slug",urlRoot:b.root+"wp/v2/taxonomies",defaults:{name:"",slug:null,description:"",labels:{},types:[],show_cloud:!1,hierarchical:!1}}),a.api.models.Term=i.extend({idAttribute:"id",url:function(){var a=this.get("id");return a=a||"",b.root+"wp/v2/taxonomies/"+this.get("taxonomy")+"/terms/"+a},defaults:{id:null,name:"",slug:"",description:"",parent:null,count:0,link:"",taxonomy:"",_links:{}}}),a.api.models.Post=i.extend(_.extend({idAttribute:"id",urlRoot:b.root+"wp/v2/posts",defaults:{id:null,date:new Date,date_gmt:new Date,guid:{},link:"",modified:new Date,modified_gmt:new Date,password:"",slug:"",status:"draft",type:"post",title:{},content:{},author:null,excerpt:{},featured_image:null,comment_status:"open",ping_status:"open",sticky:!1,format:"standard",_links:{}}},g,h)),a.api.models.Page=i.extend(_.extend({idAttribute:"id",urlRoot:b.root+"wp/v2/pages",defaults:{id:null,date:new Date,date_gmt:new Date,guid:{},link:"",modified:new Date,modified_gmt:new Date,password:"",slug:"",status:"draft",type:"page",title:{},content:{},author:null,excerpt:{},featured_image:null,comment_status:"closed",ping_status:"closed",menu_order:null,template:"",_links:{}}},g,h)),a.api.models.Revision=i.extend(_.extend({idAttribute:"id",url:function(){var a=this.get("id")||"";return b.root+"wp/v2/posts/"+a+"/revisions"},defaults:{id:null,author:null,date:new Date,date_gmt:new Date,guid:{},modified:new Date,modified_gmt:new Date,parent:0,slug:"",title:{},content:{},excerpt:{},_links:{}}},g,h)),a.api.models.Media=i.extend(_.extend({idAttribute:"id",urlRoot:b.root+"wp/v2/media",defaults:{id:null,date:new Date,date_gmt:new Date,guid:{},link:"",modified:new Date,modified_gmt:new Date,password:"",slug:"",status:"draft",type:"attachment",title:{},author:null,comment_status:"open",ping_status:"open",alt_text:"",caption:"",description:"",media_type:"",media_details:{},post:null,source_url:"",_links:{}},initialize:function(){this.parentModel=a.api.models.Post}},g,h)),a.api.models.Comment=i.extend(_.extend({idAttribute:"id",defaults:{id:null,author:null,author_email:"",author_ip:"",author_name:"",author_url:"",author_user_agent:"",content:{},date:new Date,date_gmt:new Date,karma:0,link:"",parent:0,post:null,status:"hold",type:"",_links:{}},url:function(){var a=this.get("post");a=a||"";var c=this.get("id");return c=c||"",b.root+"wp/v2/posts/"+a+"/comments/"+c}},g,h)),a.api.models.PostType=i.extend({idAttribute:"slug",urlRoot:b.root+"wp/v2/posts/types",defaults:{slug:null,name:"",description:"",labels:{},hierarchical:!1},save:function(){return!1},"delete":function(){return!1}}),a.api.models.PostStatus=i.extend({idAttribute:"slug",urlRoot:b.root+"wp/v2/posts/statuses",defaults:{slug:null,name:"","public":!0,"protected":!1,"private":!1,queryable:!0,show_in_list:!0,_links:{}},save:function(){return!1},"delete":function(){return!1}})}(wp,WP_API_Settings,Backbone,window),function(a,b,c,d,e,f){"use strict";var g=c.Collection.extend({initialize:function(){this.state={data:{},currentPage:null,totalPages:null,totalObjects:null}},sync:function(a,e,f){f=f||{};var g=f.beforeSend,h=this;if("undefined"!=typeof b.nonce&&(f.beforeSend=function(a){return a.setRequestHeader("X-WP-Nonce",b.nonce),g?g.apply(h,arguments):void 0}),"read"===a){f.data?(h.state.data=d.clone(f.data),delete h.state.data.page):h.state.data=f.data={},"undefined"==typeof f.data.page?(h.state.currentPage=null,h.state.totalPages=null,h.state.totalObjects=null):h.state.currentPage=f.data.page-1;var i=f.success;f.success=function(a,b,c){return h.state.totalPages=parseInt(c.getResponseHeader("x-wp-totalpages"),10),h.state.totalObjects=parseInt(c.getResponseHeader("x-wp-total"),10),null===h.state.currentPage?h.state.currentPage=1:h.state.currentPage++,i?i.apply(this,arguments):void 0}}return c.sync(a,e,f)},more:function(a){if(a=a||{},a.data=a.data||{},d.extend(a.data,this.state.data),"undefined"==typeof a.data.page){if(!this.hasMore())return!1;null===this.state.currentPage||this.state.currentPage<=1?a.data.page=2:a.data.page=this.state.currentPage+1}return this.fetch(a)},hasMore:function(){return null===this.state.totalPages||null===this.state.totalObjects||null===this.state.currentPage?null:this.state.currentPage<this.state.totalPages}});a.api.collections.Posts=g.extend({url:b.root+"wp/v2/posts",model:a.api.models.Post}),a.api.collections.Pages=g.extend({url:b.root+"wp/v2/pages",model:a.api.models.Page}),a.api.collections.Users=g.extend({url:b.root+"wp/v2/users",model:a.api.models.User}),a.api.collections.PostStatuses=g.extend({url:b.root+"wp/v2/statuses",model:a.api.models.PostStatus,parse:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return this.constructor.__super__.parse.call(this,b)}}),a.api.collections.MediaLibrary=g.extend({url:b.root+"wp/v2/media",model:a.api.models.Media}),a.api.collections.Taxonomies=g.extend({model:a.api.models.Taxonomy,url:b.root+"wp/v2/taxonomies"}),a.api.collections.Comments=g.extend({model:a.api.models.Comment,url:b.root+"wp/v2/comments"}),a.api.collections.PostTypes=g.extend({model:a.api.models.PostType,url:b.root+"wp/v2/types",parse:function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(a[c]);return this.constructor.__super__.parse.call(this,b)}}),a.api.collections.Terms=g.extend({model:a.api.models.Term,taxonomy:"category",initialize:function(a,b){"undefined"!=typeof b&&b.taxonomy&&(this.taxonomy=b.taxonomy),g.prototype.initialize.apply(this,arguments)},url:function(){return b.root+"wp/v2/terms/"+this.taxonomy}}),a.api.collections.Revisions=g.extend({model:a.api.models.Revision,parent:null,initialize:function(a,b){g.prototype.initialize.apply(this,arguments),b&&b.parent&&(this.parent=b.parent)},url:function(){return b.root+"wp/v2/posts/"+this.parent+"/revisions"}})}(wp,WP_API_Settings,Backbone,_,window);
//# sourceMappingURL=wp-api.min.map